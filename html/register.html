{{ template "head" . }}
<h2> Register </h2>
<form method="post">
    <input type="text" required placeholder="username" name="username">
    <input type="password" minlength="9" required placeholder="password" name="password">
    <input type="text" required placeholder="verification link" name="verificationlink">
    <input type="hidden" name="verificationcode" value="{{.Data.VerificationCode}}">
    <div>
        <div>
            <input type="checkbox" required id="coc">
            <label for="coc">I have refreshed my memory of the <a target="_blank" href="https://github.com/merveilles/Resources/blob/master/CONDUCT.md">Merveilles Code of Conduct</a></label>
        </div>
        <div>
            <input type="checkbox" required id="coc2">
            <label for="coc2">Yes, I have actually <a target="_blank" href="https://github.com/merveilles/Resources/blob/master/CONDUCT.md">read it</a></label>
        </div>
    </div>
    <input type="submit" value="Register">
</form>

<p>This forum is for the <a href="https://wiki.xxiivv.com/site/merveilles.html">Merveilles</a> community. To register, you need to either belong to the <a href="https://webring.xxiivv.com">Merveilles Webring</a> or the
<a href="https://merveilles.town">Merveilles Fediverse instance</a>.
</p>

{{ if .Data.ErrorMessage }} 
<div>
    <p><b> {{ .Data.ErrorMessage }} </b></p>
</div>
{{ end }}

<p>Your verification code is <b>{{ .Data.VerificationCode }}</b></p>
<details>
    <summary>Verification instructions</summary>
    <p>You can use either your mastodon profile or your webring site to verify your registration.</p>
    <ul>
        <li><b>Mastodon:</b> temporarily add a new metadata item to <a
                href="https://merveilles.town/settings/profile">your profile</a> containing the verification code
            displayed above. Pass your profile as the verification link.</li>
        <li><b>Webring site:</b> Upload a plaintext file somewhere on your webring domain (incl. subdomain) containing
            the verification code from above. Pass the link to the uploaded file as the verification link (make sure
            it is viewable in a browser).</li>
    </ul>
</details>
{{ template "footer" . }}
